--taodb
use master
go
create database QLBongDa
go
use QLBongDa
grant create table to test;
go

go
--taotable

create table CAULACBO
(
	MACLB varchar(5),
	TENCLB nvarchar(100) NOT NULL,
	MASAN varchar(5) NOT NULL,
	MATINH varchar(5) NOT NULL,
	constraint PK_CLB primary key (MACLB)
)

create table CAUTHU
(
	MACT numeric,
	HOTEN nvarchar(100) NOT NULL,
	VITRI nvarchar(20) NOT NULL,
	NGAYSINH datetime,
	DIACHI nvarchar(200),
	MACLB varchar(5) NOT NULL,
	MAQG varchar(5) NOT NULL,
	SO int NOT NULL
	constraint PK_CT primary key(MACT)
)
create table QUOCGIA
(
	MAQG varchar(5),
	TENQG nvarchar(60) NOT NULL
	constraint PK_QG primary key(MAQG)
)
create table TINH
(
	MATINH varchar(5),
	TENTINH nvarchar(100) NOT NULL
	constraint PK_MB primary key (MATINH)
)
create table HUANLUYENVIEN
(
	MAHLV varchar(5),
	TENHLV nvarchar(100) NOT NULL,
	NGAYSINH datetime,
	DIACHI nvarchar(200),
	DIENTHOAI nvarchar(20),
	MAQG varchar(5) NOT NULL
	constraint PK_HLV primary key(MAHLV)
)
create table SANVD
(
	MASAN varchar(5),
	TENSAN nvarchar(100) NOT NULL,
	DIACHI nvarchar(200)
	constraint PK_SVD primary key(MASAN)
)
create table HLV_CLB
(
	MAHLV varchar(5),
	MACLB varchar(5),
	VAITRO nvarchar(100) NOT NULL
	constraint PK_HvC primary key(mahlv, maclb)
)
create table TRANDAU
(
	MATRAN numeric,
	NAM int NOT NULL,
	VONG int NOT NULL,
	NGAYTD datetime NOT NULL,
	MACLB1 varchar(5) NOT NULL,
	MACLB2 varchar(5) NOT NULL,
	MASAN varchar(5) NOT NULL,
	KETQUA varchar(5) NOT NULL,
	constraint PK_TD primary key(MATRAN)
)
create table BANGXH
(
	MACLB varchar(5),
	NAM int NOT NULL,
	VONG int NOT NULL,
	SOTRAN int NOT NULL,
	THANG int NOT NULL,
	HOA int NOT NULL,
	THUA int NOT NULL,
	DIEM int NOT NULL,
	HANG int NOT NULL,
	HIEUSO varchar(5) NOT NULL,
	constraint PK_KN primary key(MACLB,NAM,VONG)
)
--quanhe

--BANGXH
alter table BANGXH
add constraint FK_BXH_CLB foreign key(MACLB) references CAULACBO(MACLB)

--TRANDAU
alter table TRANDAU
add constraint FK_TD_SVD foreign key(MASAN) references SANVD(MASAN),
constraint FK_TD_CLB1 foreign key(MACLB1) references CAULACBO(MACLB),
constraint FK_TD_CLB2 foreign key(MACLB2) references CAULACBO(MACLB)

--CAUTHU
alter table CAUTHU
add constraint FK_CT_CLB foreign key(MACLB) references CAULACBO(MACLB),
constraint FK_CT_QG foreign key(MAQG) references QUOCGIA(MAQG)

--HLV_CLB
alter table HLV_CLB
add constraint FK_HC_HLV foreign key(MAHLV) references HUANLUYENVIEN(MAHLV),
constraint FK_HC_CLB foreign key(MACLB) references CAULACBO(MACLB)

--HUANLUYENVIEN
alter table HUANLUYENVIEN
add constraint FK_HLV_QG foreign key(MAQG) references QUOCGIA(MAQG)

--CAULACBO
alter table CAULACBO
add constraint FK_CLB_SVD foreign key(MASAN) references SANVD(MASAN),
constraint FK_CLB_T foreign key(MATINH) references TINH(MATINH)

--nhap data

--1.TINH

INSERT INTO TINH(MATINH, TENTINH)
VALUES
('BD', N'Bình Dương');


INSERT INTO TINH(MATINH, TENTINH)
VALUES
('GL', N'Gia Lai');


INSERT INTO TINH(MATINH, TENTINH)
VALUES
('DN', N'Đà Nẵng');


INSERT INTO TINH(MATINH, TENTINH)
VALUES
('KH', N'Khánh Hòa');


INSERT INTO TINH(MATINH, TENTINH)
VALUES
('PY', N'Phú Yên');


INSERT INTO TINH(MATINH, TENTINH)
VALUES
('LA', N'Long An');


--2.QUOCGIA

INSERT INTO QUOCGIA(MAQG, TENQG)
VALUES
('VN', N'Việt Nam');


INSERT INTO QUOCGIA(MAQG, TENQG)
VALUES
('ANH', N'Anh Quốc');


INSERT INTO QUOCGIA(MAQG, TENQG)
VALUES
('TBN', N'Tây Ban Nha');


INSERT INTO QUOCGIA(MAQG, TENQG)
VALUES
('BDN', N'Bồ Đào Nha');


INSERT INTO QUOCGIA(MAQG, TENQG)
VALUES
('BRA', N'Brazil');


INSERT INTO QUOCGIA(MAQG, TENQG)
VALUES
('ITA', N'Ý');


INSERT INTO QUOCGIA(MAQG, TENQG)
VALUES
('THA', N'Thái Lan');


--3.SANVD

INSERT INTO SANVD(MASAN, TENSAN, DIACHI)
VALUES
('GD', N'Gò Đậu', N'123 QL1, TX Thủ Dầu Một, Bình Dương');


INSERT INTO SANVD(MASAN, TENSAN, DIACHI)
VALUES
('PL', N'Pleiku', N'22 Hồ Tùng Mậu, Thống Nhất, Thị xã Pleiku, Gia Lai');


INSERT INTO SANVD(MASAN, TENSAN, DIACHI)
VALUES
('CL', N'Chi Lăng', N'127 Võ Văn Tần, Đà Nẵng');


INSERT INTO SANVD(MASAN, TENSAN, DIACHI)
VALUES
('NT', N'Nha Trang', N'128 Phan Chu Trinh, Nha Trang, Khánh Hòa');


INSERT INTO SANVD(MASAN, TENSAN, DIACHI)
VALUES
('TH', N'Tuy Hòa', N'57 Trường Chinh, Tuy Hòa, Phú Yên');


INSERT INTO SANVD(MASAN, TENSAN, DIACHI)
VALUES
('LA', N'Long An', N'102 Hùng Vương, Tp Tân An, Long An');


--4.CAULACBO

INSERT INTO CAULACBO(MACLB, TENCLB, MASAN, MATINH)
VALUES
('BBD', N'BECAMEX BÌNH DƯƠNG', 'GD', 'BD');


INSERT INTO CAULACBO(MACLB, TENCLB, MASAN, MATINH)
VALUES
('HAGL', N'HOÀNG ANH GIA LAI', 'PL', 'GL');


INSERT INTO CAULACBO(MACLB, TENCLB, MASAN, MATINH)
VALUES
('SDN', N'SHB ĐÀ NẴNG', 'CL', 'DN');


INSERT INTO CAULACBO(MACLB, TENCLB, MASAN, MATINH)
VALUES
('KKH', N'KHATOCO KHÁNH HÒA', 'NT', 'KH');


INSERT INTO CAULACBO(MACLB, TENCLB, MASAN, MATINH)
VALUES
('TPY', N'THÉP PHÚ YÊN', 'TH', 'PY');


INSERT INTO CAULACBO(MACLB, TENCLB, MASAN, MATINH)
VALUES
('GDT', N'GẠCH ĐỒNG TÂM LONG AN', 'LA', 'LA');


--5.HUANLUYENVIEN

INSERT INTO HUANLUYENVIEN(MAHLV, TENHLV, NGAYSINH, DIACHI, DIENTHOAI, MAQG)
VALUES
('HLV01', N'Vital', '10/15/1955', 'NULL', 0918011075, 'BDN');


INSERT INTO HUANLUYENVIEN(MAHLV, TENHLV, NGAYSINH, DIACHI, DIENTHOAI, MAQG)
VALUES
('HLV02', N'Lê Huỳnh Đức', '5/20/1972', 'NULL', 01223456789, 'VN');


INSERT INTO HUANLUYENVIEN(MAHLV, TENHLV, NGAYSINH, DIACHI, DIENTHOAI, MAQG)
VALUES
('HLV03', N'Kiatisuk', '12/11/1970', 'NULL', 01990123456, 'THA');


INSERT INTO HUANLUYENVIEN(MAHLV, TENHLV, NGAYSINH, DIACHI, DIENTHOAI, MAQG)
VALUES
('HLV04', N'Hoàng Anh Tuấn', '6/10/1970', 'NULL', 0989112233, 'VN');


INSERT INTO HUANLUYENVIEN(MAHLV, TENHLV, NGAYSINH, DIACHI, DIENTHOAI, MAQG)
VALUES
('HLV05', N'Trần Công Minh', '7/7/1973', 'NULL', 0909099990, 'VN');

INSERT INTO HUANLUYENVIEN(MAHLV, TENHLV, NGAYSINH, DIACHI, DIENTHOAI, MAQG)
VALUES
('HLV06', N'Trần Văn Phúc', '02/03/1965', 'NULL', 01650101234 , 'VN');


--6.HLV_CLB

INSERT INTO HLV_CLB(MAHLV, MACLB, VAITRO)
VALUES
('HLV01', 'BBD',N'HLV Chính');


INSERT INTO HLV_CLB(MAHLV, MACLB, VAITRO)
VALUES
('HLV02', 'SDN', N'HLV Chính');


INSERT INTO HLV_CLB(MAHLV, MACLB, VAITRO)
VALUES
('HLV03', 'HAGL', N'HLV Chính');


INSERT INTO HLV_CLB(MAHLV, MACLB, VAITRO)
VALUES
('HLV04', 'KKH', N'HLV Chính');


INSERT INTO HLV_CLB(MAHLV, MACLB, VAITRO)
VALUES
('HLV05', 'GDT', N'HLV Chính');


INSERT INTO HLV_CLB(MAHLV, MACLB, VAITRO)
VALUES
('HLV06', 'BBD', N'HLV thủ môn');


--7.CAUTHU

INSERT INTO CAUTHU(MACT, HOTEN, VITRI, NGAYSINH, DIACHI, MACLB, MAQG, SO)
VALUES
(1, N'Nguyễn Vũ Phong', N'Tiền vệ', '2/20/1990', 'NULL', 'BBD', 'VN', 17);

INSERT INTO CAUTHU(MACT, HOTEN, VITRI, NGAYSINH, DIACHI, MACLB, MAQG, SO)
VALUES
(2, N'Nguyễn Công Vinh', N'Tiền đạo', '3/10/1992', 'NULL', 'HAGL', 'VN', 9);

INSERT INTO CAUTHU(MACT, HOTEN, VITRI, NGAYSINH, DIACHI, MACLB, MAQG, SO)
VALUES
(4, N'Trần Tấn Tài', N'Tiền vệ', '11/12/1989', 'NULL', 'BBD', 'VN', 8);

INSERT INTO CAUTHU(MACT, HOTEN, VITRI, NGAYSINH, DIACHI, MACLB, MAQG, SO)
VALUES
(5, N'Phan Hồng Sơn', N'Thủ môn', '6/10/1991', 'NULL', 'HAGL', 'VN', 1);

INSERT INTO CAUTHU(MACT, HOTEN, VITRI, NGAYSINH, DIACHI, MACLB, MAQG, SO)
VALUES
(6, N'Ronaldo', N'Tiền vệ', '12/12/1989', 'NULL', 'SDN', 'BRA', 7);

INSERT INTO CAUTHU(MACT, HOTEN, VITRI, NGAYSINH, DIACHI, MACLB, MAQG, SO)
VALUES
(7, N'Robinho', N'Tiền vệ', '10/12/1989', 'NULL', 'SDN', 'BRA', 8);

INSERT INTO CAUTHU(MACT, HOTEN, VITRI, NGAYSINH, DIACHI, MACLB, MAQG, SO)
VALUES
(8, N'Vidic', N'Hậu vệ', '10/15/1987', 'NULL', 'HAGL', 'ANH', 3);

INSERT INTO CAUTHU(MACT, HOTEN, VITRI, NGAYSINH, DIACHI, MACLB, MAQG, SO)
VALUES
(9, N'Trần Văn Santos', N'Thủ môn', '10/21/1990', 'NULL', 'BBD', 'BRA', 1);

INSERT INTO CAUTHU(MACT, HOTEN, VITRI, NGAYSINH, DIACHI, MACLB, MAQG, SO)
VALUES
(10, N'Nguyễn Trường Sơn', N'Hậu vệ', '8/26/1993', 'NULL', 'BBD', 'VN', 4);


--8.TRANDAU

INSERT INTO TRANDAU(MATRAN, NAM, VONG, NGAYTD, MACLB1, MACLB2, MASAN, KETQUA)
VALUES
(1, 2009, 1, N'2/7/2009', 'BBD', 'SDN', 'GD', '3-0');


INSERT INTO TRANDAU(MATRAN, NAM, VONG, NGAYTD, MACLB1, MACLB2, MASAN, KETQUA)
VALUES
(2, 2009, 1, '2/7/2009', 'KKH', 'GDT', 'NT', '1-1');


INSERT INTO TRANDAU(MATRAN, NAM, VONG, NGAYTD, MACLB1, MACLB2, MASAN, KETQUA)
VALUES
(3, 2009, 2, '2/16/2009', 'SDN', 'KKH', 'CL', '2-2');


INSERT INTO TRANDAU(MATRAN, NAM, VONG, NGAYTD, MACLB1, MACLB2, MASAN, KETQUA)
VALUES
(4, 2009, 2, '2/16/2009', 'TPY', 'BBD', 'TH', '5-0');


INSERT INTO TRANDAU(MATRAN, NAM, VONG, NGAYTD, MACLB1, MACLB2, MASAN, KETQUA)
VALUES
(5, 2009, 3, '3/1/2009', 'TPY', 'GDT', 'TH', '0-2');


INSERT INTO TRANDAU(MATRAN, NAM, VONG, NGAYTD, MACLB1, MACLB2, MASAN, KETQUA)
VALUES
(6, 2009, 3, '3/1/2009', 'KKH', 'BBD', 'NT', '0-1');


INSERT INTO TRANDAU(MATRAN, NAM, VONG, NGAYTD, MACLB1, MACLB2, MASAN, KETQUA)
VALUES
(7, 2009, 4, '3/7/2009', 'KKH', 'TPY', 'NT', '1-0');


INSERT INTO TRANDAU(MATRAN, NAM, VONG, NGAYTD, MACLB1, MACLB2, MASAN, KETQUA)
VALUES
(8, 2009, 4, '3/7/2009', 'BBD', 'GDT', 'GD', '2-2');


--9.BANGXH

INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'BBD', 2009, 1, 1, 1, 0, 0, '3-0', 3, 1
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'KKH', 2009, 1, 1, 0, 1, 0, '1-1', 1, 2
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'GDT', 2009, 1, 1, 0, 1, 0, '1-1', 1, 3
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'TPY', 2009, 1, 0, 0, 0, 0, '0-0', 0, 4
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'SDN', 2009, 1, 1, 0, 0, 1, '0-3', 0, 5
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'TPY', 2009, 2, 1, 1, 0, 0, '5-0', 3, 1
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'BBD', 2009, 2, 2, 1, 0, 1, '3-5', 3, 2
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'KKH', 2009, 2, 2, 0, 2, 0, '3-3', 2, 3
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'GDT', 2009, 2, 1, 0, 1, 0, '1-1', 1, 4
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'SDN', 2009, 2, 2, 1, 1, 0, '2-5', 1, 5
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'BBD', 2009, 3, 3, 2, 0, 1, '4-5', 6, 1
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'GDT', 2009, 3, 2, 1, 1, 0, '3-1', 4, 2
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'TPY', 2009, 3, 2, 1, 0, 1, '5-2', 3, 3
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'KKH', 2009, 3, 3, 0, 2, 1, '3-4', 2, 4
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'SDN', 2009, 3, 2, 1, 1, 0, '2-5', 1, 5
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'BBD', 2009, 4, 4, 2, 1, 1, '6-7', 7, 1
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'GDT', 2009, 4, 3, 1, 2, 0, '5-1', 5, 2
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'KKH', 2009, 4, 4, 1, 2, 1, '4-4', 5, 3
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'TPY', 2009, 4, 3, 1, 0, 2, '5-3', 3, 4
);


INSERT INTO BANGXH(MACLB, NAM, VONG, SOTRAN, THANG, HOA, THUA, HIEUSO, DIEM, HANG)
VALUES
(
'SDN', 2009, 4, 2, 1, 1, 0, '2-5', 1, 5
);

